(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c,r=n(4),s=n.n(r),a=n(51),i=n.n(a),o=(n(67),n(83)),u=(n(68),n(22)),l=n(2),j=function(e){var t=e.answer,n=e.onClickAnswer;return Object(l.jsx)("button",{className:"col btn btn-success p-1 m-3",onClick:function(){return n(t.correct)},children:t.text})},b=n(87),d=function(e){var t=e.question,n=e.onClickAnswer;return Object(l.jsxs)("div",{className:"container p-3 my-3 bg-dark text-white",children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("span",{className:"text-center",children:t.text})}),Object(l.jsx)("div",{className:"row",children:t.answers.map((function(e){return Object(l.jsx)(j,{answer:e,onClickAnswer:n},Object(b.a)())}))})]})},h=function(e){var t=e.questions,n=e.score,c=e.setScore,s=e.onQuestionsDone,a=Object(r.useState)(0),i=Object(u.a)(a,2),o=i[0],j=i[1];return Object(l.jsxs)("div",{className:"container p-1 my-3 text-white text-center",children:[Object(l.jsx)("h1",{className:"mb-3",children:"Countries Quiz!"}),Object(l.jsxs)("h3",{children:["Question ",o+1," / ",t.length]}),t.length>o&&Object(l.jsx)(d,{question:t[o],onClickAnswer:function(e){e&&c(n+1),j(o+1),o+1===t.length&&s()}})]})},O=n(86),m=n(52),f=n(58),x=Object(f.a)(c||(c=Object(m.a)(["\n    query countries {\n        countries {\n            name\n            phone\n            capital\n            currency\n            continent {\n                name\n            }\n            languages {\n                name\n            }\n        }\n    }\n"]))),g=n(36),p=function(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]},w=function(e){var t=e.results;return Object(l.jsxs)("table",{className:"table table-striped table-bordered table-dark",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"Rank"}),Object(l.jsx)("th",{scope:"col",children:"Name"}),Object(l.jsx)("th",{scope:"col",children:"Score"})]})}),Object(l.jsx)("tbody",{children:t.sort((function(e,t){return t.score-e.score})).map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t+1}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.score})]},Object(b.a)())}))})]})},v=n(47),N=n(59),y=["onSubmit","disabled","valid"],S=function(e){var t=e.onSubmit,n=e.disabled,c=e.valid,s=Object(N.a)(e,y),a=Object(r.useRef)(null);return Object(r.useEffect)((function(){return a.current.focus()}),[]),Object(l.jsx)("form",Object(v.a)(Object(v.a)({onSubmit:t},s),{},{children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("input",{className:"col form-control"+(c?"":" is-invalid"),disabled:n,placeholder:"Input your name!",ref:a}),Object(l.jsx)("button",{id:"result-form-input-btn",className:"col-2 mx-2 p-1 btn btn-success",disabled:n,children:"Enter"})]})}))},A=function(e){var t=e.score,n=e.onPlayAgain,c=Object(r.useState)(!0),s=Object(u.a)(c,2),a=s[0],i=s[1],o=Object(r.useState)(!1),j=Object(u.a)(o,2),b=j[0],d=j[1],h=p("quizResults");return Object(l.jsxs)("div",{className:"container p-2 my-3 text-white",children:[Object(l.jsxs)("div",{className:"row mx-1",children:[Object(l.jsx)(S,{className:"col-md",onSubmit:function(e){e.preventDefault(),e.target[0].value?(i(!0),d(!0),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];localStorage.setItem(e,JSON.stringify([].concat(Object(g.a)(p(e)),n)))}("quizResults",{name:e.target[0].value,score:t})):i(!1)},valid:a,disabled:b}),Object(l.jsx)("div",{className:"col-md-2 d-flex align-items-center justify-content-center",children:Object(l.jsxs)("span",{children:["Your score: ",Object(l.jsx)("b",{children:t})]})}),Object(l.jsx)("button",{className:"col-md-2 btn btn-success",onClick:n,disabled:!b,children:"Play again!"})]}),Object(l.jsx)("div",{className:"row mt-3 mx-1",children:h.length>0&&Object(l.jsx)(w,{results:h})})]})},k=n(28),q=[{getQuestion:function(e){return"What is the phone code for ".concat(e.name,"?")},getAnswer:function(e){return e.phone}},{getQuestion:function(e){return"On which continent is the country ".concat(e.name,"?")},getAnswer:function(e){return e.continent.name}},{getQuestion:function(e){return"What is the capital of ".concat(e.name,"?")},getAnswer:function(e){return e.capital?e.capital:"No official capital"}},{getQuestion:function(e){return"What is the currency in ".concat(e.name,"?")},getAnswer:function(e){return e.currency?e.currency:"No official currency"}},{getQuestion:function(e){return"What is one language ".concat(e.name," speaks?")},getAnswer:function(e){return e.languages&&e.languages.length>0?e.languages[0].name:"No official language"}}],Q=function(e,t,n){return{text:t.getAnswer(e),correct:n}},C=function(e,t,n){for(var c=[],r=function(){var r=Q(Object(k.sample)(e),n,!1);r.text===n.getAnswer(t)||c.find((function(e){return e.text===r.text}))||c.push(r)};c.length<3;)r();return c},z=function(e){return Object(k.shuffle)(e).slice(0,Object(k.min)(["10",e.length])).map((function(t){return function(e,t,n){return{text:n.getQuestion(t),answers:Object(k.shuffle)([Q(t,n,!0)].concat(Object(g.a)(C(e,t,n))))}}(e,t,Object(k.sample)(q))}))},I=function(){var e=Object(O.a)(x),t=e.loading,n=e.error,c=e.data,s=Object(r.useState)(0),a=Object(u.a)(s,2),i=a[0],o=a[1],j=Object(r.useState)(!1),b=Object(u.a)(j,2),d=b[0],m=b[1];return t?Object(l.jsx)("div",{className:"my-3 text-white",children:"Loading..."}):n?Object(l.jsxs)("div",{className:"my-3 text-white",children:["Error! $",n.message]}):Object(l.jsxs)(l.Fragment,{children:[!d&&Object(l.jsx)(h,{questions:z(c.countries),score:i,setScore:o,onQuestionsDone:function(){return m(!0)}}),d&&Object(l.jsx)(A,{score:i,onPlayAgain:function(){o(0),m(!1)}})]})},E=n(84),J=n(85),R=n(45),W=function(){return Object(l.jsxs)(R.b,{children:[Object(l.jsx)(R.a,{children:Object(l.jsx)("body",{className:"bg-secondary"})}),Object(l.jsx)(o.a,{client:new E.a({uri:"https://countries.trevorblades.com/graphql",cache:new J.a}),children:Object(l.jsx)(I,{})})]})};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(W,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.e3f885f4.chunk.js.map